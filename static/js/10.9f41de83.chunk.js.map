{"version":3,"sources":["components/charting/charting_library/charting_library/charting_library.min.js","components/primitives/Button/index.jsx","components/primitives/Input/index.jsx","components/charting/TVChartContainer/index.jsx","components/bots/AddBotBase/index.jsx","components/index.js","modules/strings/pad.js","modules/datetime/index.js","pages/trading/MyTradingAccounts/ChartSample.jsx","pages/trading/MyTradingAccounts/index.jsx"],"names":["t","e","Object","assign","o","arguments","i","n","length","s","prototype","hasOwnProperty","call","Array","isArray","mobile","disabled_features","enabled_features","width","height","symbol","interval","timezone","container_id","library_path","locale","widgetbar","details","watchlist","watchlist_settings","default_symbols","overrides","mainSeriesProperties.showCountdown","studies_overrides","brokerConfig","configFlags","fullscreen","autosize","debug","logo","time_frames","text","resolution","client_id","user_id","charts_storage_api_version","favorites","intervals","chartTypes","r","this","_id","Math","random","toString","substring","_ready","_readyHandlers","_onWindowResize","_autoResizeChart","bind","datafeed","Error","_options","preset","concat","console","warn","theme","loading_screen","backgroundColor","_create","onChartReady","push","headerReady","_innerWindowLoaded","then","_innerWindow","onGrayedObjectClicked","_innerAPI","onShortcut","createShortcutAction","subscribe","unsubscribe","chart","setLanguage","remove","setSymbol","changeSymbol","window","removeEventListener","splice","_iFrame","parentNode","removeChild","closePopupsAndDialogs","selectLineTool","selectedLineTool","save","saveChart","load","loadChart","json","extendedData","getSavedCharts","loadChartFromServer","saveChartToServer","removeChartFromServer","onContextMenu","createButton","showNoticeDialog","showConfirmDialog","showLoadChartDialog","showSaveAsChartDialog","symbolInterval","getSymbolInterval","mainSeriesPriceFormatter","getIntervals","getStudiesList","addCustomCSSFile","applyOverrides","applyStudiesOverrides","watchList","activeChart","chartsCount","layout","setLayout","layoutName","changeTheme","takeScreenshot","lockAllDrawingTools","hideAllDrawingTools","undoRedoState","tradingViewApi","contentWindow","style","innerHeight","_render","document","getElementById","innerHTML","querySelector","addEventListener","Promise","widgetReady","error","initializationFinished","customFormatters","brokerFactory","studiesOverrides","disabledFeatures","enabledFeatures","restConfig","numeric_formatting","rss_news_feed","newsProvider","news_provider","loadLastChart","load_last_chart","saveLoadAdapter","save_load_adapter","settingsAdapter","settings_adapter","customIndicatorsUrl","indicators_file_name","saved_data","chartContent","encodeURIComponent","timeframe","toolbar_bg","replace","studies_access","JSON","stringify","drawings_access","String","charts_storage_url","custom_css_url","auto_save_delay","snapshot_url","study_count_limit","symbol_search_request_delay","TradingView","version","widget","defineProperty","value","exports","Button","_ref","children","className","react_default","a","createElement","Input","after","placeholder","props","objectWithoutProperties","type","autoComplete","getLanguageFromURL","results","RegExp","exec","location","search","decodeURIComponent","TVChartContainer","_ref$symbol","_ref$interval","_ref$containerId","containerId","datafeedUrl","_ref$libraryPath","libraryPath","_ref$chartsStorageUrl","chartsStorageUrl","_ref$chartsStorageApi","chartsStorageApiVersion","_ref$clientId","clientId","_ref$userId","userId","_ref$fullscreen","_ref$autosize","_ref$studiesOverrides","_ref$onChartReady","_ref2","options","_useState","useState","_useState2","slicedToArray","tvWidget","setWidget","useEffect","datafeedResult","Datafeeds","UDFCompatibleDatafeed","WidgetBase","log","id","AddBotBase","src","title","fontSize","Button_Button","borderRadius","__webpack_require__","d","__webpack_exports__","Input_Input","TVChartContainer_TVChartContainer","AddBotBase_AddBotBase","pad","escapecolor","invert","padlength","ref","char","strip","colors","substr","repeat","pad2","dateToEpoch","date","floor","getTime","epochToDate","epoch","Date","setUTCSeconds","dateToStr","getFullYear","getMonth","getDate","getHours","getMinutes","strToDate","dateStr","supported_resolutions","config","resolveSymbol","symbolName","onSymbolResolvedCallback","onResolveErrorCallback","symbol_stub","name","description","ticker","session","minmov","pricescale","has_intraday","has_no_volume","supported_resolution","volume_precision","data_status","setTimeout","sortBars","b","time","getMonday","day","getDay","diff","setDate","addMinutes","minutes","getRoundBar","minsInBar","convertBarsFromM1","bars","tf","newBars","current","sort","forEach","bar","timeDT","time1","time2","startM1","startM2","abs","startW1","startW2","startDay1","startDay2","minutesInBar","minutes1","round","minutes2","isEqualCandle","objectSpread","open","high","max","low","min","barsMerge","arr","newList","elem","item","getBarsInRange","asyncToGenerator","regenerator_default","mark","_callee","from","to","m1","toNorm","fromNorm","minM1","maxM1","minTime","maxTime","res1","res2","count","toStr","maxCount","_res","lastTime","_res2","url","_ref3","wrap","_context","prev","next","c","t0","sent","t1","abrupt","toConsumableArray","fetchJson","stop","_x","apply","resolutionToTF","barsCache","getBarsInner","_ref8","_callee4","_ref7","fromDT","toDT","barsLoaded","barsMerged","result","barsNormalized","_context4","map","close","year","month","hour","minute","volume","reverse","_x3","getBars","_ref10","_callee5","symbolInfo","onHistoryCallback","onErrorCallback","firstDataRequest","_context5","toLowerCase","l","noData","_x4","_x5","_x6","_x7","_x8","_x9","_x10","ChartSample","datafeed2","onReady","cb","searchSymbols","userInput","exchange","symbolType","onResultReadyCallback","subscribeBars","onRealtimeCallback","subscribeUID","onResetCacheNeededCallback","unsubscribeBars","subscriberUID","getServerTime","getMarks","startDate","endDate","onDataCallback","getTimeScaleMarks","components","_ref11","button","setAttribute","classList","add","onClick","alert","ReactDOM","render","MyTradingAccounts_MyTradingAccounts","MyTradingAccounts","ChartSample_ChartSample","route","view"],"mappings":"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","file":"static/js/10.9f41de83.chunk.js","sourcesContent":["/* eslint-disable */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.TradingView={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e,o=arguments,i=1,n=arguments.length;i<n;i++)for(var s in e=o[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function o(t,i){var n=e({},t);for(var s in i)\"object\"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==i[s]&&(n[s]=i[s]):n[s]=o(t[s],i[s]);return n}var i={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},n={width:800,height:500,symbol:\"AA\",interval:\"D\",timezone:\"Etc/UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"W\"},{text:\"1y\",resolution:\"W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}};function s(){return\"1.14 (internal id aaac22e2 @ 2019-04-04 08:31:56.077488)\"}var r=function(){function t(t){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=o(n,t),t.preset){var e=i[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn(\"Unknown preset: `\"+t.preset+\"`\")}\"Dark\"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:\"#131722\"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e+\"\",o)},t.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o,i){this._innerAPI().saveChartToServer(t,e,o,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=o(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+\"px\")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error(\"There is no such element - #\"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector(\"#\"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width=\"100%\",this._options.fullscreen||(i.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(t){var e=function(){i.removeEventListener(\"load\",e,!1),t()};i.addEventListener(\"load\",e,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var i=o[e];try{i.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()})})},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||\"\")+\"static/\"+this._options.locale+\"-tv-chart.aaac22e21df68f2f7bad.html#symbol=\"+encodeURIComponent(this._options.symbol)+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+this._options.toolbar_bg.replace(\"#\",\"\"):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+this._options.debug+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\")+(this._options.theme?\"&theme=\"+encodeURIComponent(String(this._options.theme)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+e+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","import React from \"react\";\r\nimport \"./index.scss\";\r\nexport const Button = ({children, className, style}) => {\r\n\treturn <div className={`${className} button-container`}>\r\n\t\t<button style={style}>\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t</div>\r\n}","import React from \"react\";\r\nimport \"./index.scss\";\r\nexport const Input = ({className, after, placeholder,...props}) => {\r\n\treturn <div className={`${className} input-container`}>\r\n\t\t{placeholder && <label className=\"placeholder\">{placeholder}</label>}\r\n\t\t<input type={\"text\"} {...props} autoComplete={\"off\"}></input>\r\n\t\t{after}\r\n\t</div>\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './index.scss';\r\nimport { widget as WidgetBase } from '../charting_library/charting_library/charting_library.min';\r\n\r\nfunction getLanguageFromURL() {\r\n\tconst regex = new RegExp('[\\\\?&]lang=([^&#]*)');\r\n\tconst results = regex.exec(window.location.search);\r\n\treturn results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n}\r\nexport const TVChartContainer = ({\r\n\tsymbol='AAPL',\r\n\tinterval='1',\r\n\tcontainerId='tv_chart_container',\r\n\tdatafeedUrl,//='https://demo_feed.tradingview.com',\r\n\tlibraryPath='/charting_library/',\r\n\tchartsStorageUrl=null,//'https://saveload.tradingview.com',\r\n\tchartsStorageApiVersion=null,//'1.1',\r\n\tclientId='tradingview.com',\r\n\tuserId='public_user_id',\r\n\tfullscreen=false,\r\n\tautosize=true,\r\n\tstudiesOverrides={},\r\n\tdatafeed,\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tonChartReady=({widget, options})=>{}\r\n}) => {\r\n\tconst [tvWidget, setWidget] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tconst datafeedResult =\r\n\t\t\ttypeof datafeed!==\"undefined\" ? datafeed :\r\n\t\t\ttypeof datafeedUrl===\"string\" && datafeedUrl.length>0 ? new window.Datafeeds.UDFCompatibleDatafeed(datafeedUrl) :\r\n\t\t\tnull;\r\n\t\tif(datafeedResult===null) {\r\n\t\t\tconsole.error(\"datafeed and datafeedUrl missing\")\r\n\t\t}\r\n\t\tconst options = {\r\n\t\t\tsymbol,\r\n\t\t\tdatafeed: datafeedResult,\r\n\t\t\tinterval,\r\n\t\t\tcontainer_id: containerId,\r\n\t\t\tlibrary_path: libraryPath,\r\n\t\t\tlocale: getLanguageFromURL() || 'en',\r\n\t\t\tdisabled_features: ['use_localstorage_for_settings'],\r\n\t\t\tenabled_features: ['study_templates'],\r\n\t\t\tcharts_storage_url: chartsStorageUrl,\r\n\t\t\tcharts_storage_api_version: chartsStorageApiVersion,\r\n\t\t\tclient_id: clientId,\r\n\t\t\tuser_id: userId,\r\n\t\t\tfullscreen,\r\n\t\t\tautosize,\r\n\t\t\tstudies_overrides: studiesOverrides,\r\n\t\t};\r\n\r\n\t\tconst widget = new WidgetBase(options);\r\n\t\tconsole.log({widget: widget._iFrame, WidgetBase});\r\n\t\twidget.onChartReady(() => {\r\n\t\t\tconsole.log(\"onChartReady\");\r\n\t\t\tonChartReady({widget, options});\r\n\t\t});\r\n\t\twidget.headerReady(() => {\r\n\t\t\tconsole.log(\"headerReady\");\r\n\t\t})\r\n\t\tsetWidget(widget);\r\n\t\treturn () => {\r\n\t\t\tif (tvWidget !== null) {\r\n\t\t\t\ttvWidget.remove();\r\n\t\t\t\tsetWidget(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn <div id={containerId} className={'TVChartContainer'}/>\r\n}","import React from \"react\";\r\nimport { Button } from \"../../primitives\";\r\nimport \"./index.scss\";\r\nexport const AddBotBase = ({src, title, text}) => {\r\n\treturn <div className=\"add-bot-base\">\r\n\t\t<div className=\"img-container\">\r\n\t\t\t<img src={src} />\r\n\t\t</div>\r\n\t\t<h1 style={{fontSize: \"16px\"}}>{title}</h1>\r\n\t\t<p>{text}</p>\r\n\t\t<Button style={{borderRadius: \"50px\"}}>\r\n\t\t\t{`Start +`}\r\n\t\t</Button>\r\n\t</div>\r\n}","export * from \"./primitives\";\r\nexport * from \"./charting\";\r\nexport * from \"./bots\";","// Generated by CoffeeScript 1.11.1\r\nexport const pad = (text, length, options) => {\r\n\tlet escapecolor, invert, pad, padlength, ref;\r\n\tif (options == null) {\r\n\t\toptions = {};\r\n\t}\r\n\tinvert = typeof text === \"number\";\r\n\tif (invert) {\r\n\t\tref = [text, length];\r\n\t\tlength = ref[0];\r\n\t\ttext = ref[1];\r\n\t}\r\n\tif (typeof options === \"string\") {\r\n\t\toptions = {\r\n\t\t\tchar: options\r\n\t\t};\r\n\t}\r\n\tif (options.char == null) {\r\n\t\toptions.char = \" \";\r\n\t}\r\n\tif (options.strip == null) {\r\n\t\toptions.strip = false;\r\n\t}\r\n\ttext = text.toString();\r\n\tpad = \"\";\r\n\tif (options.colors) {\r\n\t\t// eslint-disable-next-line\r\n        escapecolor = /\\x1B\\[(?:[0-9]{1,2}(?:;[0-9]{1,2})?)?[m|K]/g;\r\n\t\tlength += text.length - text.replace(escapecolor, \"\").length;\r\n\t}\r\n\tpadlength = length - text.length;\r\n\tif (padlength < 0) {\r\n\t\tif (options.strip) {\r\n\t\t\tif (invert) {\r\n\t\t\t\treturn text.substr(length * -1);\r\n\t\t\t} else {\r\n\t\t\t\treturn text.substr(0, length);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tpad += options.char.repeat(padlength);\r\n\tif (invert) {\r\n\t\treturn pad + text;\r\n\t} else {\r\n\t\treturn text + pad;\r\n\t}\r\n}\r\n","import { pad } from \"../strings\";\r\n\r\nconst pad2 = (value) => {\r\n\treturn pad(2, value, \"0\");\r\n}\r\n\r\nconst pad4 = (value) => {\r\n\treturn pad(4, value, \"0\");\r\n}\r\n\r\nexport const dateToEpoch = (date) => {\r\n\treturn Math.floor(date.getTime()/1000.0);\r\n}\r\n\r\nexport const epochToDate = (epoch) => {\r\n\tconst date = new Date(0);\r\n\tdate.setUTCSeconds(epoch);\r\n\treturn date;\r\n}\r\n\r\nexport const dateToStr = (date) => {\r\n\treturn pad4(date.getFullYear())+pad2(date.getMonth()+1)+pad2(date.getDate())+pad2(date.getHours())+pad2(date.getMinutes());\r\n}\r\n\r\nexport const strToDate = (dateStr) => {\r\n\treturn new Date(+dateStr.substr(0, 4), +dateStr.substr(4,2)-1, +dateStr.substr(6,2), +dateStr.substr(8,2), +dateStr.substr(10,2));\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { TVChartContainer } from \"components\";\r\nimport { dateToEpoch, epochToDate, strToDate, dateToStr, fetchJson } from \"modules\";\r\n\r\nconst datafeedServer = \"http://45.58.126.250\";\r\nconst supported_resolutions = [\"1\", \"5\", \"15\", \"30\", \"60\", \"240\", \"1D\", \"1W\", \"1M\"];\r\nconst config = { supported_resolutions }\r\n// eslint-disable-next-line no-unused-vars\r\nconst resolveSymbol = (symbolName, onSymbolResolvedCallback, onResolveErrorCallback) => {\r\n\tconst symbol_stub = {\r\n\t\tname: symbolName,\r\n\t\tdescription: '',\r\n\t\ttype: 'forex',\r\n\t\tticker: symbolName,\r\n\t\tsession: '24x7',\r\n\t\ttimezone: 'America/New_York',\r\n\t\tminmov: 1,\r\n\t\tpricescale: 100000,\r\n\t\thas_intraday: true,\r\n\t\thas_no_volume: true,\r\n\t\tsupported_resolution:  supported_resolutions,\r\n\t\tvolume_precision: 0.01,\r\n\t\tdata_status: 'streaming'\r\n\t}\r\n\tsetTimeout(function() {\r\n\t\tonSymbolResolvedCallback(symbol_stub)\r\n\t}, 0)\r\n}\r\n\r\nconst sortBars = (a,b) => {\r\n\tif(a.time < b.time) return 1;\r\n\tif(a.time > b.time) return -1;\r\n\treturn 0;\r\n}\r\n\r\nfunction getMonday(d) {\r\n\td = new Date(d);\r\n\tconst day = d.getDay(),\r\n\t\tdiff = d.getDate() - day + (day == 0 ? -6:1); // adjust when day is sunday\r\n\treturn new Date(d.setDate(diff));\r\n  }\r\n\r\nfunction addMinutes(date, minutes) {\r\n    return new Date(date.getTime() + minutes*60000);\r\n}\r\n\r\nconst getRoundBar = (time, minsInBar) => {\r\n\treturn (time-(time%minsInBar)) / minsInBar;\r\n}\r\n\r\nconst isEqualCandle = (time1, time2, tf) => {\r\n\tif(tf===\"mn1\") {\r\n\t\tconst startM1 = new Date(time1.getFullYear(), time1.getMonth(), 1);\r\n\t\tconst startM2 = new Date(time2.getFullYear(), time2.getMonth(), 1);\r\n\t\treturn Math.abs(startM1 - startM2) <= 1;\r\n\t}\r\n\tif(tf===\"w1\") {\r\n\t\tconst startW1 = getMonday(time1);\r\n\t\tconst startW2 = getMonday(time2);\r\n\t\treturn Math.abs(startW1 - startW2) <= 1;\r\n\t}\r\n\tconst startDay1 = new Date(time1.getFullYear(), time1.getMonth(), time1.getDate());\r\n\tconst startDay2 = new Date(time2.getFullYear(), time2.getMonth(), time2.getDate());\r\n\tif(tf===\"d1\") {\r\n\t\treturn Math.abs(startDay1 - startDay2) <= 1;\r\n\t}\r\n\tlet minutesInBar = 0;\r\n\tswitch(tf) {\r\n\t\tcase \"m1\": minutesInBar = 1; break;\r\n\t\tcase \"m5\": minutesInBar = 5; break;\r\n\t\tcase \"m15\": minutesInBar = 15; break;\r\n\t\tcase \"m30\": minutesInBar = 30; break;\r\n\t\tcase \"h1\": minutesInBar = 60; break;\r\n\t\tcase \"h4\": minutesInBar = 240; break;\r\n\t\tdefault: break;\r\n\t}\r\n\tconst minutes1 = Math.round((time1 - startDay1) / 60000);\r\n\tconst minutes2 = Math.round((time2 - startDay2) / 60000);\r\n\treturn Math.abs(getRoundBar(minutes1, minutesInBar) - getRoundBar(minutes2, minutesInBar)) <= 0.001;\r\n}\r\n\r\nconst convertBarsFromM1 = (bars, tf) => {\r\n\tconst newBars = [];\r\n\tlet current = null;\r\n\t// console.log(bars);\r\n\tbars && bars.sort(sortBars).forEach((bar) => {\r\n\t\tconst timeDT = strToDate(bar.time);\r\n\t\tif(!current) {\r\n\t\t\tcurrent = {...bar, timeDT }\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(!isEqualCandle(current.timeDT, timeDT, tf)) {\r\n\t\t\t\tnewBars.push(current);\r\n\t\t\t\tcurrent = {...bar, timeDT }\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcurrent.open = bar.open;\r\n\t\t\t\tcurrent.high = Math.max(bar.high, current.high);\r\n\t\t\t\tcurrent.low = Math.min(bar.low, current.low);\r\n\t\t\t\tcurrent.time = bar.time;\r\n\t\t\t\tcurrent.timeDT = timeDT;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tif(current) {\r\n\t\tnewBars.push(current);\r\n\t}\r\n\treturn newBars;\r\n}\r\n\r\nconst barsMerge = (arr) => {\r\n\tconst newList = [];\r\n\tarr.forEach(elem => {\r\n\t\telem && elem.forEach(item => {\r\n\t\t\tnewList.push(item);\r\n\t\t})\r\n\t})\r\n\treturn newList.sort(sortBars);\r\n}\r\n\r\nconst getBarsInRange = async ({from, to, symbol, tf, m1}) => {\r\n\tlet toNorm = to;\r\n\tlet fromNorm = from;\r\n\tlet minM1 = m1 && m1[0];\r\n\tlet maxM1 = m1 && m1[0];\r\n\tm1 && m1.forEach(c=>{\r\n\t\tif(!minM1 || c.time < minM1.time) minM1 = c;\r\n\t\tif(!maxM1 || c.time > maxM1.time) maxM1 = c;\r\n\t})\r\n\tconst minTime = minM1 && strToDate(minM1.time);\r\n\tconst maxTime = maxM1 && strToDate(maxM1.time);\r\n\tif(minM1 && maxM1) {\r\n\t\tconst res1 = addMinutes(minTime, -1) > from && await getBarsInRange({from, to: addMinutes(minTime, -1), symbol, tf, m1: null});\r\n\t\tconst res2 = addMinutes(maxTime, 1) < to && await getBarsInRange({from: addMinutes(maxTime, 1), to, symbol, tf, m1: null});\r\n\t\tif(res1 && res1.length>0 && res2 && res1.length>0) {\r\n\t\t\treturn [...res1, ...res2];\r\n\t\t}\r\n\t\telse if(res1) return res1;\r\n\t\telse if(res2) return res2;\r\n\t\telse return [];\r\n\t}\r\n\tconst count = Math.round((toNorm - fromNorm) / 60000);\r\n\tconst toStr = dateToStr(toNorm);\r\n\tconst maxCount = 10000;\r\n\tif(count<=0) return [];\r\n\tif(count>maxCount) {\r\n\t\tconst res1 = await getBarsInRange({from: addMinutes(toNorm, -maxCount), to: toNorm, symbol, tf, m1});\r\n\t\tconst lastTime = res1 && res1[res1.length-1] && strToDate(res1[res1.length-1].time);\r\n\t\tlet res2 = [];\r\n\t\tif(lastTime && addMinutes(lastTime, -1) > toNorm) {\r\n\t\t\tres2 = await getBarsInRange({from: fromNorm, to: addMinutes(lastTime, -1), symbol, tf, m1});\r\n\t\t}\r\n\t\tif(res1 && res1.length>0 && res2 && res1.length>0) {\r\n\t\t\treturn [...res1, ...res2];\r\n\t\t}\r\n\t\telse if(res1) return res1;\r\n\t\telse if(res2) return res2;\r\n\t\telse return [];\r\n\t}\r\n\tlet url = `${datafeedServer}/api/bars/dara/${symbol}/m1?count=${count}&to=${toStr}`;\r\n\tconst { bars } = await fetchJson(url);\r\n\treturn bars;\r\n}\r\n\r\nconst resolutionToTF = (resolution) => {\r\n\tswitch(resolution) {\r\n\t\tcase \"1\": return \"m1\";\r\n\t\tcase \"5\": return \"m5\";\r\n\t\tcase \"15\": return \"m15\";\r\n\t\tcase \"30\": return \"m30\";\r\n\t\tcase \"60\": return \"h1\";\r\n\t\tcase \"240\": return \"h4\";\r\n\t\tcase \"1D\": return \"d1\";\r\n\t\tcase \"1W\": return \"w1\";\r\n\t\tcase \"1M\": return \"mn1\";\r\n\t\tdefault: return \"\";\r\n\t}\r\n}\r\n\r\nlet providersCache = null;\r\nconst getProviders = async() => {\r\n\tconst result = await fetchJson(`${datafeedServer}/api/providers`);\r\n\tprovidersCache = result;\r\n\treturn providersCache;\r\n}\r\n\r\nlet rangeCache = null;\r\nconst getRange = async({symbol, tf}) => {\r\n\tconst result = await fetchJson(`${datafeedServer}/api/bars/dara/${symbol}/${tf}/range`);\r\n\trangeCache = result;\r\n\treturn rangeCache;\r\n}\r\n\r\nlet barsCache = {}\r\n\r\nconst getBarsInner = async ({from, to, symbol, resolution}) => {\r\n\tconst { m1 } = barsCache || {};\r\n\tconst tf = resolutionToTF(resolution);\r\n\tconst fromDT = epochToDate(from);\r\n\tconst toDT = epochToDate(to);\r\n\tconst barsLoaded = await getBarsInRange({\r\n\t\tsymbol,\r\n\t\tfrom: fromDT,\r\n\t\tto: toDT,\r\n\t\ttf,\r\n\t\tm1: null\r\n\t})\r\n\tconst barsMerged = barsMerge([barsLoaded, m1]);\r\n\tbarsCache.m1 = barsMerged;\r\n\tconst result = tf===\"m1\" ? barsLoaded : convertBarsFromM1(barsLoaded, tf);\r\n\tif(tf!==\"m1\") {\r\n\t\tbarsCache[tf] = result;\r\n\t}\r\n\tconst barsNormalized = result.map(bar => {\r\n\t\tconst { open, high, low, close, time } = bar;\r\n\t\tconst year = time.substr(0, 4);\r\n\t\tconst month = time.substr(4, 2);\r\n\t\tconst day = time.substr(6,2);\r\n\t\tconst hour = time.substr(8, 2);\r\n\t\tconst minute = time.substr(10, 2);\r\n\t\tconst date = new Date(+year, +month-1, +day, +hour, +minute);\r\n\t\tconst epoch = dateToEpoch(date);\r\n\t\tconst barNormalized = {\r\n\t\t\tclose: \"\"+close,\r\n\t\t\topen: \"\"+open,\r\n\t\t\thigh: \"\"+high,\r\n\t\t\tlow: \"\"+low,\r\n\t\t\ttime: epoch * 1000,\r\n\t\t\tvolume: \"\"+0.01\r\n\t\t}\r\n\t\treturn barNormalized;\r\n\t});\r\n\tconsole.log({barsNormalized})\r\n\treturn barsNormalized.reverse();\r\n}\r\n\r\n\r\nexport const getBars = async (symbolInfo, resolution, from, to, onHistoryCallback, onErrorCallback, firstDataRequest) => {\r\n\ttry {\r\n\t\tconsole.warn(\"getBars\", {symbolInfo, resolution, from, to, onHistoryCallback, onErrorCallback, firstDataRequest});\r\n\t\tconst bars = await getBarsInner({symbol: symbolInfo.name.toLowerCase(), resolution, from, to});//historyProvider.getBars(symbolInfo, resolution, from, to, firstDataRequest);\r\n\t\tconsole.log({bars, l:bars.length, barsCache});\r\n\t\tif(bars.length) {\r\n\t\t\tonHistoryCallback(bars, {noData: false})\r\n\t\t} else {\r\n\t\t\tonHistoryCallback(bars, {noData: true})\r\n\t\t}\r\n\t}\r\n\tcatch(err) {\r\n\t\tconsole.error(err);\r\n\t\tonErrorCallback(err);\r\n\t}\r\n}\r\n\r\nexport const ChartSample = () => {\r\n\r\n\t// const [providersData, providersStatus] = useProviders();\r\n\r\n\t// console.log({providersData, providersStatus});\r\n\t// const datafeed = new window.Datafeeds.UDFCompatibleDatafeed(\"https://demo_feed.tradingview.com\");\r\n\r\n\tconst datafeed2 = {\r\n\t\tonReady: (cb) => cb(config),\r\n\t\tsearchSymbols: (userInput, exchange, symbolType, onResultReadyCallback) => {\r\n\t\t\tconsole.log(\"searchSymbols\", {userInput, exchange, symbolType, onResultReadyCallback});\r\n\t\t},\r\n\t\tresolveSymbol,\r\n\t\tgetBars,\r\n\t\tsubscribeBars: (symbolInfo, resolution, onRealtimeCallback, subscribeUID, onResetCacheNeededCallback) => {\r\n\t\t\t//this.setState({resolution});\r\n\t\t\tconsole.log(\"subscribeBars\", {symbolInfo, resolution, onRealtimeCallback, subscribeUID, onResetCacheNeededCallback});\r\n\t\t},\r\n\t\tunsubscribeBars: subscriberUID => {\r\n\t\t\tconsole.log(\"unsubscribeBars\");\r\n\t\t},\r\n\t\t/* optional methods */\r\n\t\tgetServerTime: cb => {\r\n\t\t\tconsole.log(\"getServerTime\")\r\n\t\t},\r\n\t\t// calculateHistoryDepth: async (resolution, resolutionBack, intervalBack) => {\r\n\t\t// \tconsole.log(\"calculateHistoryDepth\", {resolution, resolutionBack, intervalBack});\r\n\t\t// },\r\n\t\tgetMarks: (symbolInfo, startDate, endDate, onDataCallback, resolution) => {\r\n\t\t\tconsole.log(\"getMarks\", {symbolInfo, startDate, endDate, onDataCallback, resolution});\r\n\t\t},\r\n\t\tgetTimeScaleMarks: (symbolInfo, startDate, endDate, onDataCallback, resolution) => {\r\n\t\t\tconsole.log(\"getTimeScaleMarks\", {symbolInfo, startDate, endDate, onDataCallback, resolution});\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChartReady = ({widget, options}) => {\r\n\t\tconsole.log(\"onChartReady: \", {widget, options});\r\n\t\tconst button = widget.createButton();\r\n\t\tbutton.setAttribute(\"title\", \"Click to show a notification popup\");\r\n\t\tbutton.classList.add(\"apply-common-tooltip\");\r\n\t\tconst Test = () => <span onClick={()=>{\r\n\r\n\t\t\t// widget.showNoticeDialog({\r\n\t\t\t// \ttitle: 'Notification',\r\n\t\t\t// \tbody: 'TradingView Charting Library API works correctly',\r\n\t\t\t// \tcallback: () => {\r\n\t\t\t// \t\tconsole.log('Noticed!');\r\n\t\t\t// \t},\r\n\t\t\t// })\r\n\r\n\t\t\t// widget.chart().createStudy(\r\n\t\t\t// \t'Bollinger Bands',\r\n\t\t\t// \tfalse,\r\n\t\t\t// \tfalse,\r\n\t\t\t// \t[\r\n\t\t\t// \t\t10 + parseInt(Math.random() * 10),\r\n\t\t\t// \t\t3 + parseInt(Math.random() * 3)\r\n\t\t\t// \t]\r\n\t\t\t// )\r\n\r\n\t\t\t// widget.onContextMenu(function(time, price) {\r\n\t\t\t// \treturn [\r\n\t\t\t// \t\t{\r\n\t\t\t// \t\t\tposition: \"top\",\r\n\t\t\t// \t\t\ttext: new Date(time * 1000).toUTCString() + \"; \" + price.toFixed(4),\r\n\t\t\t// \t\t\tclick: function() {\r\n\t\t\t// \t\t\t\tconsole.log(\"Custom context menu item clicked\");\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t{ text: \"-\", position: \"top\" },\r\n\t\t\t// \t\t{ text: \"-Objects Tree...\" },\r\n\t\t\t// \t];\r\n\t\t\t// });\r\n\r\n\t\t\t// const order = widget.chart().createOrderLine()\r\n\t\t\t// \t.onMove(function() {\r\n\t\t\t// \t\tconsole.log(\"Order moved event\");\r\n\t\t\t// \t})\r\n\t\t\t// \t.onCancel(function(text) {\r\n\t\t\t// \t\tconsole.log(\"Order cancel event\");\r\n\t\t\t// \t})\r\n\t\t\t// \t.setText(\"STOP: 73.5 (5,64%)\")\r\n\t\t\t// \t.setLineLength(3)\r\n\t\t\t// \t.setQuantity(\"2\");\r\n\t\t\t// order.setPrice(1.1295);\r\n\r\n\t\t\t// widget.chart().createExecutionShape()\r\n\t\t\t// \t\t\t.setText(\"@1,320.75 Limit Buy 1\")\r\n\t\t\t// \t\t\t.setTextColor(\"rgba(255,0,0,0.5)\")\r\n\t\t\t// \t\t\t.setArrowSpacing(25)\r\n\t\t\t// \t\t\t.setArrowHeight(25)\r\n\t\t\t// \t\t\t.setArrowColor(\"#F00\")\r\n\t\t\t// \t\t\t.setTime(new Date(\"04.12.2019 09:00:00\").valueOf() / 1000)\r\n\t\t\t// \t\t\t.setPrice(1.1289);\r\n\r\n\t\t}}>TEST</span>\r\n\t\tbutton.onClick = () => alert(\"OLA\");\r\n\t\tReactDOM.render(<Test />, button);\r\n\t}\r\n\r\n\tconsole.log({barsCache})\r\n\r\n\treturn <TVChartContainer onChartReady={onChartReady} symbol=\"eurusd\" datafeed={datafeed2}/>\r\n}\r\n","import React from \"react\";\r\nimport { route } from \"navi\"\r\nimport { ChartSample } from \"./ChartSample\";\r\n\r\nexport const MyTradingAccounts = () => {\r\n\treturn <div>\r\n\t\t<h1>My Trading Accounts</h1>\r\n\t\t<ChartSample />\r\n\t</div>\r\n}\r\n\r\nexport default route({\r\n\ttitle: \"My Trading Accounts\",\r\n\tview: <MyTradingAccounts />,\r\n});"],"sourceRoot":""}
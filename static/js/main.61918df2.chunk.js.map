{"version":3,"sources":["modules/resolver/makeArray.js","modules/resolver/equalizeArraysLength.js","modules/hooks/useOnClickOutside.js","modules/hooks/index.js","modules/storages/lowLS.js","modules/fetch/fetchJson/normalizeRequest.js","modules/fetch/fetchJson/index.js","modules/fetch/index.js","pages/Home/index.jsx","modules/hooks/useOnScreen/intersectionObserverPolyfill.js","app/Layout/Header/index.jsx","app/Layout/SideBar/index.jsx","app/Layout/index.jsx","app/Router/index.jsx","serviceWorker.js","index.js","app/index.jsx"],"names":["makeArray","value","length","result","push","equalizeArraysLength","a","b","aArr","Array","isArray","bArr","arrsCount","concat","Object","toConsumableArray","reverse","useOnClickOutside","ref","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","__webpack_require__","d","__webpack_exports__","adapter","LocalStorage","db","low","defaults","write","normalizeRequest","url","params","headers","method","body","qIndex","indexOf","qs","stringify","undefined","JSON","objectSpread","parse","substring","urlExt","fetchJson","arguments","Promise","_ref","asyncToGenerator","regenerator_default","mark","_callee","resolve","reject","_normalizeRequest","_normalizeRequest2","urlN","paramsN","json","wrap","_context","prev","next","slicedToArray","fetch","sent","ok","t0","t1","abrupt","t2","t3","console","error","stop","_x","_x2","apply","this","fetchJson_fetchJson","r","Home","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_navi__WEBPACK_IMPORTED_MODULE_1__","navi__WEBPACK_IMPORTED_MODULE_2__","useCurrentRoute","createElement","route","title","getData","testing","view","window","IntersectionObserverEntry","prototype","defineProperty","get","intersectionRatio","registry","IntersectionObserver","THROTTLE_TIMEOUT","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","_observationTargets","some","item","element","nodeType","Error","_registerInstance","entry","_monitorIntersections","_checkForIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","_queuedEntries","slice","_initThresholds","opt_threshold","threshold","sort","t","i","isNaN","_parseRootMargin","opt_rootMargin","margins","split","map","margin","parts","exec","parseFloat","unit","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","top","bottom","left","right","width","height","forEach","targetRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","intersectionRect","_computeTargetAndRootIntersection","newEntry","time","performance","now","boundingClientRect","rootBounds","_hasCrossedThreshold","isIntersecting","_callback","getComputedStyle","display","parent","getParentNode","atRoot","parentRect","parentComputedStyle","root","documentElement","overflow","computeRectIntersection","html","clientWidth","clientHeight","_expandRectByRootMargin","rect","_rootMarginValues","newRect","oldRatio","newRatio","thresholds","containsDeep","index","splice","targetArea","intersectionArea","Number","toFixed","callback","opt_options","options","fn","timeout","timer","setTimeout","throttle","bind","rootMargin","join","node","opt_useCapture","attachEvent","detatchEvent","rect1","rect2","Math","max","min","el","err","child","parentNode","host","assignedSlot","DetailsAccountMenu","react_default","className","style","position","dist_es","href","Header","_useState","useState","_useState2","detailsOpen","setDetailsOpen","detailsRef","useRef","src","onClick","Header_DetailsAccountMenu","NavLink","props","SideBar","alt","SideBar_NavLink","Layout","children","loadingRoute","useLoadingRoute","BusyIndicator","isBusy","delayMs","SideBar_SideBar","Header_Header","routes","mount","/","lazy","then","/login","e","/mybots","/mytradingaccounts","/createnewaccount","/forgotpassword","/signin","/help","/profile","/setupdarabot","/trial","Router","Layout_Layout","react","fallback","Boolean","location","hostname","match","ReactDOM","render","Router_Router","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.61918df2.chunk.js","sourcesContent":["export const makeArray = (value, length) => {\r\n\tconst result = [];\r\n\twhile(result.length < length) result.push(value);\r\n\treturn result;\r\n};","import { makeArray } from \"./makeArray\";\r\n\r\nexport const equalizeArraysLength = (a, b) => {\r\n\tconst aArr = Array.isArray(a);\r\n\tconst bArr = Array.isArray(b);\r\n\tconst arrsCount = aArr + bArr;\r\n\tif (arrsCount===0) return [[a], [b]];\r\n\telse if (arrsCount===2) {\r\n\t\tif (a.length > b.length) {\r\n\t\t\treturn [a, [...b, ...makeArray(b[b.length - 1], a.length - b.length)]];\r\n\t\t}\r\n\t\telse if (a.length < b.length) return equalizeArraysLength(b, a).reverse();\r\n\t\treturn [a, b];\r\n\t}\r\n\telse if (aArr) return [a, makeArray(b, a.length)];\r\n\telse if (bArr) return equalizeArraysLength(b, a).reverse();\r\n}","import { useEffect } from 'react';\r\n\r\nexport function useOnClickOutside(ref, handler) {\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconst listener = event => {\r\n\t\t\t\tif (!ref.current || ref.current.contains(event.target)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thandler(event);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('mousedown', listener);\r\n\t\t\tdocument.addEventListener('touchstart', listener);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('mousedown', listener);\r\n\t\t\t\tdocument.removeEventListener('touchstart', listener);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ref, handler]\r\n\t);\r\n}","export * from \"./useLockBodyScroll\";\r\nexport * from \"./useOnClickOutside\";\r\nexport * from \"./useGlobalRefresher\";\r\nexport * from \"./useGlobalState\";\r\nexport * from \"./useFetchOnce\";\r\nexport * from \"./useKeyPress\";\r\nexport * from \"./useScript\";\r\nexport * from \"./useOnScreen\";\r\nexport * from \"./useMedia\";\r\nexport * from \"./useBootstrap\";\r\nexport * from \"./useAnimationFrame\";\r\nexport * from \"./api\";","// import { lowLSDefault } from \"consts/defaults/lowLSDefault\";\r\nimport low from \"lowdb\";\r\nimport LocalStorage from \"lowdb/adapters/LocalStorage\";\r\n//import { LOWDB_DEFAULT_GROUP_KEY } from \"_shared/consts\";\r\n\r\nconst adapter = new LocalStorage(\"lowdb\");\r\nconst lowLSDefault = {};\r\nconst db = low(adapter);\r\n\r\ndb.defaults(lowLSDefault).write();\r\n\r\nexport const lowLS = {\r\n\tget: (key) => db.get(key).value(),\r\n\tset: (key, value) => db.set(key, value).write(),\r\n\tremove: (key) => db.unset(key).write()\r\n}","\r\nimport qs from \"query-string\";\r\nimport { lowLS } from \"../../storages/lowLS\";\r\n// import { BROWSER_TOKEN_KEY, BROWSER_LANG } from \"consts\";\r\n\r\nexport const normalizeRequest = (url, params) => {\r\n\tif(!params) params = {};\r\n\tif(!params.headers) params.headers = {};\r\n\t// params.headers[BROWSER_TOKEN_KEY] = lowLS.get(BROWSER_TOKEN_KEY);\r\n\t// params.headers[BROWSER_LANG] = lowLS.get(BROWSER_LANG);\r\n\r\n\tif(!params.method) params.method = \"GET\";\r\n\tif(!params.headers[\"content-type\"]) params.headers[\"content-type\"] = \"application/json; charset=utf-8\";\r\n\r\n\tif(params.method===\"GET\") {\r\n\t\t//convert body params to url params\r\n\t\tif(params.body) {\r\n\t\t\tconst qIndex = url.indexOf(\"?\");\r\n\t\t\tif(qIndex>=0) {\r\n\t\t\t\turl+=qs.stringify(params.body);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\turl+=\"?\"+qs.stringify(params.body);\r\n\t\t\t}\r\n\t\t\tparams.body = undefined;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t//post or any other\r\n\t\t//convert url params to body params\r\n\t\tconst qIndex = url.indexOf(\"?\");\r\n\t\tif(qIndex>=0) {\r\n\t\t\tparams.body = JSON.stringify({\r\n\t\t\t\t...(params.body ? (typeof params.body===\"string\" ? JSON.parse(params.body) : params.body) : {}),\r\n\t\t\t\t...qs.parse(url.substring(qIndex))\r\n\t\t\t});\r\n\t\t\turl = url.substring(0, qIndex);\r\n\t\t}\r\n\t}\r\n\tif(typeof params.body===\"object\")\r\n\t\tparams.body = JSON.stringify(params.body);\r\n\r\n\tif(params.method===\"GET\") {\r\n\t\tif(params.urlExt && params.urlExt.length>0) {\r\n\t\t\turl+=\"?\"+params.urlExt;\r\n\t\t\tdelete params.urlExt;\r\n\t\t}\r\n\t}\r\n\r\n\treturn [\r\n\t\turl,\r\n\t\tparams\r\n\t]\r\n}","import { normalizeRequest } from \"./normalizeRequest\";\r\nimport { wait } from \"../../resolver\";\r\nexport const fetchJson = (url, params={}) => {\r\n\treturn new Promise(async (resolve, reject)=>{\r\n\t\ttry {\r\n\t\t\tconst [ urlN, paramsN ] = normalizeRequest(url, params);\r\n\r\n\t\t\tif(WEBPACK_IS_DEBUG)\r\n\t\t\t\tconsole.time(`fetch(${paramsN.method}): ${urlN}`);\r\n\r\n\t\t\tconst result = await fetch(urlN, paramsN);\r\n\r\n\t\t\tif(WEBPACK_IS_DEBUG)\r\n\t\t\t\tconsole.timeEnd(`fetch(${paramsN.method}): ${urlN}`);\r\n\r\n\t\t\tif(!result.ok) {\r\n\t\t\t\treturn reject(await result.json());\r\n\t\t\t}\r\n\t\t\tconst json = result.json && await result.json();\r\n\t\t\tresolve(json);\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tconsole.error(e);\r\n\t\t\treject(e);\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\nconst nonRepeatingCache = {};\r\nexport const fetchNonRepeatingJson = async (url, params={}) => {\r\n\tconst key = url+JSON.stringify(params);\r\n\tif(nonRepeatingCache[key]) {\r\n\t\tif(typeof nonRepeatingCache[key]===\"object\")\r\n\t\t\treturn nonRepeatingCache[key];\r\n\t\tawait wait(200);\r\n\t\treturn await fetchNonRepeatingJson(url, params);\r\n\t}\r\n\telse {\r\n\t\tnonRepeatingCache[key] = true;\r\n\t\tconst response = await fetchJson(url, params);\r\n\t\tnonRepeatingCache[key] = response;\r\n\t\treturn response;\r\n\t}\r\n}","export * from \"./fetchJson\";","import React from \"react\";\r\nimport { useCurrentRoute } from \"react-navi\";\r\nimport { route } from \"navi\"\r\nexport const Home = () => {\r\n\tconst route = useCurrentRoute();\r\n\treturn <div>\r\n\t\t<h1>Home page</h1>\r\n\t</div>\r\n}\r\n\r\nexport default route({\r\n\ttitle: \"Home\",\r\n\tgetData: () => ({testing: 42}),\r\n\tview: <Home />,\r\n});","/**\r\n * Copyright 2016 Google Inc. All Rights Reserved.\r\n *\r\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\r\n *\r\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\r\n *\r\n */\r\n\r\n(function (window, document) {\r\n\t// Exits early if all IntersectionObserver and IntersectionObserverEntry\r\n\t// features are natively supported.\r\n\tif ('IntersectionObserver' in window &&\r\n\t\t'IntersectionObserverEntry' in window &&\r\n\t\t'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\r\n\r\n\t\t// Minimal polyfill for Edge 15's lack of `isIntersecting`\r\n\t\t// See: https://github.com/w3c/IntersectionObserver/issues/211\r\n\t\tif (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\r\n\t\t\tObject.defineProperty(window.IntersectionObserverEntry.prototype,\r\n\t\t\t\t'isIntersecting', {\r\n\t\t\t\t\tget: function () {\r\n\t\t\t\t\t\treturn this.intersectionRatio > 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * An IntersectionObserver registry. This registry exists to hold a strong\r\n\t * reference to IntersectionObserver instances currently observing a target\r\n\t * element. Without this registry, instances without another reference may be\r\n\t * garbage collected.\r\n\t */\r\n\tconst registry = [];\r\n\r\n\r\n\t/**\r\n\t * Creates the global IntersectionObserverEntry constructor.\r\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\r\n\t * @param {Object} entry A dictionary of instance properties.\r\n\t * @constructor\r\n\t */\r\n\tfunction IntersectionObserverEntry(entry) {\r\n\t\tthis.time = entry.time;\r\n\t\tthis.target = entry.target;\r\n\t\tthis.rootBounds = entry.rootBounds;\r\n\t\tthis.boundingClientRect = entry.boundingClientRect;\r\n\t\tthis.intersectionRect = entry.intersectionRect || getEmptyRect();\r\n\t\tthis.isIntersecting = !!entry.intersectionRect;\r\n\r\n\t\t// Calculates the intersection ratio.\r\n\t\tconst targetRect = this.boundingClientRect;\r\n\t\tconst targetArea = targetRect.width * targetRect.height;\r\n\t\tconst intersectionRect = this.intersectionRect;\r\n\t\tconst intersectionArea = intersectionRect.width * intersectionRect.height;\r\n\r\n\t\t// Sets intersection ratio.\r\n\t\tif (targetArea) {\r\n\t\t\t// Round the intersection ratio to avoid floating point math issues:\r\n\t\t\t// https://github.com/w3c/IntersectionObserver/issues/324\r\n\t\t\tthis.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\r\n\t\t} else {\r\n\t\t\t// If area is zero and is intersecting, sets to 1, otherwise to 0\r\n\t\t\tthis.intersectionRatio = this.isIntersecting ? 1 : 0;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Creates the global IntersectionObserver constructor.\r\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\r\n\t * @param {Function} callback The function to be invoked after intersection\r\n\t *     changes have queued. The function is not invoked if the queue has\r\n\t *     been emptied by calling the `takeRecords` method.\r\n\t * @param {Object=} opt_options Optional configuration options.\r\n\t * @constructor\r\n\t */\r\n\tfunction IntersectionObserver(callback, opt_options) {\r\n\r\n\t\tconst options = opt_options || {};\r\n\r\n\t\tif (typeof callback != 'function') {\r\n\t\t\tthrow new Error('callback must be a function');\r\n\t\t}\r\n\r\n\t\tif (options.root && options.root.nodeType != 1) {\r\n\t\t\tthrow new Error('root must be an Element');\r\n\t\t}\r\n\r\n\t\t// Binds and throttles `this._checkForIntersections`.\r\n\t\tthis._checkForIntersections = throttle(\r\n\t\t\tthis._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\r\n\r\n\t\t// Private properties.\r\n\t\tthis._callback = callback;\r\n\t\tthis._observationTargets = [];\r\n\t\tthis._queuedEntries = [];\r\n\t\tthis._rootMarginValues = this._parseRootMargin(options.rootMargin);\r\n\r\n\t\t// Public properties.\r\n\t\tthis.thresholds = this._initThresholds(options.threshold);\r\n\t\tthis.root = options.root || null;\r\n\t\tthis.rootMargin = this._rootMarginValues.map(function (margin) {\r\n\t\t\treturn margin.value + margin.unit;\r\n\t\t}).join(' ');\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * The minimum interval within which the document will be checked for\r\n\t * intersection changes.\r\n\t */\r\n\tIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\r\n\r\n\r\n\t/**\r\n\t * The frequency in which the polyfill polls for intersection changes.\r\n\t * this can be updated on a per instance basis and must be set prior to\r\n\t * calling `observe` on the first target.\r\n\t */\r\n\tIntersectionObserver.prototype.POLL_INTERVAL = null;\r\n\r\n\t/**\r\n\t * Use a mutation observer on the root element\r\n\t * to detect intersection changes.\r\n\t */\r\n\tIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\r\n\r\n\r\n\t/**\r\n\t * Starts observing a target element for intersection changes based on\r\n\t * the thresholds values.\r\n\t * @param {Element} target The DOM element to observe.\r\n\t */\r\n\tIntersectionObserver.prototype.observe = function (target) {\r\n\t\tconst isTargetAlreadyObserved = this._observationTargets.some(function (item) {\r\n\t\t\treturn item.element == target;\r\n\t\t});\r\n\r\n\t\tif (isTargetAlreadyObserved) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!(target && target.nodeType == 1)) {\r\n\t\t\tthrow new Error('target must be an Element');\r\n\t\t}\r\n\r\n\t\tthis._registerInstance();\r\n\t\tthis._observationTargets.push({\r\n\t\t\telement: target,\r\n\t\t\tentry: null\r\n\t\t});\r\n\t\tthis._monitorIntersections();\r\n\t\tthis._checkForIntersections();\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Stops observing a target element for intersection changes.\r\n\t * @param {Element} target The DOM element to observe.\r\n\t */\r\n\tIntersectionObserver.prototype.unobserve = function (target) {\r\n\t\tthis._observationTargets =\r\n\t\t\tthis._observationTargets.filter(function (item) {\r\n\r\n\t\t\t\treturn item.element != target;\r\n\t\t\t});\r\n\t\tif (!this._observationTargets.length) {\r\n\t\t\tthis._unmonitorIntersections();\r\n\t\t\tthis._unregisterInstance();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Stops observing all target elements for intersection changes.\r\n\t */\r\n\tIntersectionObserver.prototype.disconnect = function () {\r\n\t\tthis._observationTargets = [];\r\n\t\tthis._unmonitorIntersections();\r\n\t\tthis._unregisterInstance();\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Returns any queue entries that have not yet been reported to the\r\n\t * callback and clears the queue. This can be used in conjunction with the\r\n\t * callback to obtain the absolute most up-to-date intersection information.\r\n\t * @return {Array} The currently queued entries.\r\n\t */\r\n\tIntersectionObserver.prototype.takeRecords = function () {\r\n\t\tconst records = this._queuedEntries.slice();\r\n\t\tthis._queuedEntries = [];\r\n\t\treturn records;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Accepts the threshold value from the user configuration object and\r\n\t * returns a sorted array of unique threshold values. If a value is not\r\n\t * between 0 and 1 and error is thrown.\r\n\t * @private\r\n\t * @param {Array|number=} opt_threshold An optional threshold value or\r\n\t *     a list of threshold values, defaulting to [0].\r\n\t * @return {Array} A sorted list of unique and valid threshold values.\r\n\t */\r\n\tIntersectionObserver.prototype._initThresholds = function (opt_threshold) {\r\n\t\tlet threshold = opt_threshold || [0];\r\n\t\tif (!Array.isArray(threshold)) threshold = [threshold];\r\n\r\n\t\treturn threshold.sort().filter(function (t, i, a) {\r\n\t\t\tif (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\r\n\t\t\t\tthrow new Error('threshold must be a number between 0 and 1 inclusively');\r\n\t\t\t}\r\n\t\t\treturn t !== a[i - 1];\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Accepts the rootMargin value from the user configuration object\r\n\t * and returns an array of the four margin values as an object containing\r\n\t * the value and unit properties. If any of the values are not properly\r\n\t * formatted or use a unit other than px or %, and error is thrown.\r\n\t * @private\r\n\t * @param {string=} opt_rootMargin An optional rootMargin value,\r\n\t *     defaulting to '0px'.\r\n\t * @return {Array<Object>} An array of margin objects with the keys\r\n\t *     value and unit.\r\n\t */\r\n\tIntersectionObserver.prototype._parseRootMargin = function (opt_rootMargin) {\r\n\t\tconst marginString = opt_rootMargin || '0px';\r\n\t\tconst margins = marginString.split(/\\s+/).map(function (margin) {\r\n\t\t\tconst parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\r\n\t\t\tif (!parts) {\r\n\t\t\t\tthrow new Error('rootMargin must be specified in pixels or percent');\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tvalue: parseFloat(parts[1]),\r\n\t\t\t\tunit: parts[2]\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// Handles shorthand.\r\n\t\tmargins[1] = margins[1] || margins[0];\r\n\t\tmargins[2] = margins[2] || margins[0];\r\n\t\tmargins[3] = margins[3] || margins[1];\r\n\r\n\t\treturn margins;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Starts polling for intersection changes if the polling is not already\r\n\t * happening, and if the page's visibility state is visible.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._monitorIntersections = function () {\r\n\t\tif (!this._monitoringIntersections) {\r\n\t\t\tthis._monitoringIntersections = true;\r\n\r\n\t\t\t// If a poll interval is set, use polling instead of listening to\r\n\t\t\t// resize and scroll events or DOM mutations.\r\n\t\t\tif (this.POLL_INTERVAL) {\r\n\t\t\t\tthis._monitoringInterval = setInterval(\r\n\t\t\t\t\tthis._checkForIntersections, this.POLL_INTERVAL);\r\n\t\t\t} else {\r\n\t\t\t\taddEvent(window, 'resize', this._checkForIntersections, true);\r\n\t\t\t\taddEvent(document, 'scroll', this._checkForIntersections, true);\r\n\r\n\t\t\t\tif (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\r\n\t\t\t\t\tthis._domObserver = new MutationObserver(this._checkForIntersections);\r\n\t\t\t\t\tthis._domObserver.observe(document, {\r\n\t\t\t\t\t\tattributes: true,\r\n\t\t\t\t\t\tchildList: true,\r\n\t\t\t\t\t\tcharacterData: true,\r\n\t\t\t\t\t\tsubtree: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Stops polling for intersection changes.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._unmonitorIntersections = function () {\r\n\t\tif (this._monitoringIntersections) {\r\n\t\t\tthis._monitoringIntersections = false;\r\n\r\n\t\t\tclearInterval(this._monitoringInterval);\r\n\t\t\tthis._monitoringInterval = null;\r\n\r\n\t\t\tremoveEvent(window, 'resize', this._checkForIntersections, true);\r\n\t\t\tremoveEvent(document, 'scroll', this._checkForIntersections, true);\r\n\r\n\t\t\tif (this._domObserver) {\r\n\t\t\t\tthis._domObserver.disconnect();\r\n\t\t\t\tthis._domObserver = null;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Scans each observation target for intersection changes and adds them\r\n\t * to the internal entries queue. If new entries are found, it\r\n\t * schedules the callback to be invoked.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._checkForIntersections = function () {\r\n\t\tconst rootIsInDom = this._rootIsInDom();\r\n\t\tconst rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\r\n\r\n\t\tthis._observationTargets.forEach(function (item) {\r\n\t\t\tconst target = item.element;\r\n\t\t\tconst targetRect = getBoundingClientRect(target);\r\n\t\t\tconst rootContainsTarget = this._rootContainsTarget(target);\r\n\t\t\tconst oldEntry = item.entry;\r\n\t\t\tconst intersectionRect = rootIsInDom && rootContainsTarget &&\r\n\t\t\t\tthis._computeTargetAndRootIntersection(target, rootRect);\r\n\r\n\t\t\tconst newEntry = item.entry = new IntersectionObserverEntry({\r\n\t\t\t\ttime: now(),\r\n\t\t\t\ttarget: target,\r\n\t\t\t\tboundingClientRect: targetRect,\r\n\t\t\t\trootBounds: rootRect,\r\n\t\t\t\tintersectionRect: intersectionRect\r\n\t\t\t});\r\n\r\n\t\t\tif (!oldEntry) {\r\n\t\t\t\tthis._queuedEntries.push(newEntry);\r\n\t\t\t} else if (rootIsInDom && rootContainsTarget) {\r\n\t\t\t\t// If the new entry intersection ratio has crossed any of the\r\n\t\t\t\t// thresholds, add a new entry.\r\n\t\t\t\tif (this._hasCrossedThreshold(oldEntry, newEntry)) {\r\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// If the root is not in the DOM or target is not contained within\r\n\t\t\t\t// root but the previous entry for this target had an intersection,\r\n\t\t\t\t// add a new record indicating removal.\r\n\t\t\t\tif (oldEntry && oldEntry.isIntersecting) {\r\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tif (this._queuedEntries.length) {\r\n\t\t\tthis._callback(this.takeRecords(), this);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Accepts a target and root rect computes the intersection between then\r\n\t * following the algorithm in the spec.\r\n\t * TODO(philipwalton): at this time clip-path is not considered.\r\n\t * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\r\n\t * @param {Element} target The target DOM element\r\n\t * @param {Object} rootRect The bounding rect of the root after being\r\n\t *     expanded by the rootMargin value.\r\n\t * @return {?Object} The final intersection rect object or undefined if no\r\n\t *     intersection is found.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._computeTargetAndRootIntersection =\r\n\t\tfunction (target, rootRect) {\r\n\r\n\t\t\t// If the element isn't displayed, an intersection can't happen.\r\n\t\t\tif (window.getComputedStyle(target).display == 'none') return;\r\n\r\n\t\t\tconst targetRect = getBoundingClientRect(target);\r\n\t\t\tlet intersectionRect = targetRect;\r\n\t\t\tlet parent = getParentNode(target);\r\n\t\t\tlet atRoot = false;\r\n\r\n\t\t\twhile (!atRoot) {\r\n\t\t\t\tlet parentRect = null;\r\n\t\t\t\tconst parentComputedStyle = parent.nodeType == 1 ?\r\n\t\t\t\t\twindow.getComputedStyle(parent) : {};\r\n\r\n\t\t\t\t// If the parent isn't displayed, an intersection can't happen.\r\n\t\t\t\tif (parentComputedStyle.display == 'none') return;\r\n\r\n\t\t\t\tif (parent == this.root || parent == document) {\r\n\t\t\t\t\tatRoot = true;\r\n\t\t\t\t\tparentRect = rootRect;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// If the element has a non-visible overflow, and it's not the <body>\r\n\t\t\t\t\t// or <html> element, update the intersection rect.\r\n\t\t\t\t\t// Note: <body> and <html> cannot be clipped to a rect that's not also\r\n\t\t\t\t\t// the document rect, so no need to compute a new intersection.\r\n\t\t\t\t\tif (parent != document.body &&\r\n\t\t\t\t\t\tparent != document.documentElement &&\r\n\t\t\t\t\t\tparentComputedStyle.overflow != 'visible') {\r\n\t\t\t\t\t\tparentRect = getBoundingClientRect(parent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If either of the above conditionals set a new parentRect,\r\n\t\t\t\t// calculate new intersection data.\r\n\t\t\t\tif (parentRect) {\r\n\t\t\t\t\tintersectionRect = computeRectIntersection(parentRect, intersectionRect);\r\n\r\n\t\t\t\t\tif (!intersectionRect) break;\r\n\t\t\t\t}\r\n\t\t\t\tparent = getParentNode(parent);\r\n\t\t\t}\r\n\t\t\treturn intersectionRect;\r\n\t\t};\r\n\r\n\r\n\t/**\r\n\t * Returns the root rect after being expanded by the rootMargin value.\r\n\t * @return {Object} The expanded root rect.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._getRootRect = function () {\r\n\t\tlet rootRect;\r\n\t\tif (this.root) {\r\n\t\t\trootRect = getBoundingClientRect(this.root);\r\n\t\t} else {\r\n\t\t\t// Use <html>/<body> instead of window since scroll bars affect size.\r\n\t\t\tconst html = document.documentElement;\r\n\t\t\tconst body = document.body;\r\n\t\t\trootRect = {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\tright: html.clientWidth || body.clientWidth,\r\n\t\t\t\twidth: html.clientWidth || body.clientWidth,\r\n\t\t\t\tbottom: html.clientHeight || body.clientHeight,\r\n\t\t\t\theight: html.clientHeight || body.clientHeight\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this._expandRectByRootMargin(rootRect);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Accepts a rect and expands it by the rootMargin value.\r\n\t * @param {Object} rect The rect object to expand.\r\n\t * @return {Object} The expanded rect.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._expandRectByRootMargin = function (rect) {\r\n\t\tconst margins = this._rootMarginValues.map(function (margin, i) {\r\n\t\t\treturn margin.unit == 'px' ? margin.value :\r\n\t\t\t\tmargin.value * (i % 2 ? rect.width : rect.height) / 100;\r\n\t\t});\r\n\t\tconst newRect = {\r\n\t\t\ttop: rect.top - margins[0],\r\n\t\t\tright: rect.right + margins[1],\r\n\t\t\tbottom: rect.bottom + margins[2],\r\n\t\t\tleft: rect.left - margins[3]\r\n\t\t};\r\n\t\tnewRect.width = newRect.right - newRect.left;\r\n\t\tnewRect.height = newRect.bottom - newRect.top;\r\n\r\n\t\treturn newRect;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Accepts an old and new entry and returns true if at least one of the\r\n\t * threshold values has been crossed.\r\n\t * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\r\n\t *    particular target element or null if no previous entry exists.\r\n\t * @param {IntersectionObserverEntry} newEntry The current entry for a\r\n\t *    particular target element.\r\n\t * @return {boolean} Returns true if a any threshold has been crossed.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._hasCrossedThreshold =\r\n\t\tfunction (oldEntry, newEntry) {\r\n\r\n\t\t\t// To make comparing easier, an entry that has a ratio of 0\r\n\t\t\t// but does not actually intersect is given a value of -1\r\n\t\t\tconst oldRatio = oldEntry && oldEntry.isIntersecting ?\r\n\t\t\t\toldEntry.intersectionRatio || 0 : -1;\r\n\t\t\tconst newRatio = newEntry.isIntersecting ?\r\n\t\t\t\tnewEntry.intersectionRatio || 0 : -1;\r\n\r\n\t\t\t// Ignore unchanged ratios\r\n\t\t\tif (oldRatio === newRatio) return;\r\n\r\n\t\t\tfor (let i = 0; i < this.thresholds.length; i++) {\r\n\t\t\t\tconst threshold = this.thresholds[i];\r\n\r\n\t\t\t\t// Return true if an entry matches a threshold or if the new ratio\r\n\t\t\t\t// and the old ratio are on the opposite sides of a threshold.\r\n\t\t\t\tif (threshold == oldRatio || threshold == newRatio ||\r\n\t\t\t\t\tthreshold < oldRatio !== threshold < newRatio) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t/**\r\n\t * Returns whether or not the root element is an element and is in the DOM.\r\n\t * @return {boolean} True if the root element is an element and is in the DOM.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._rootIsInDom = function () {\r\n\t\treturn !this.root || containsDeep(document, this.root);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Returns whether or not the target element is a child of root.\r\n\t * @param {Element} target The target element to check.\r\n\t * @return {boolean} True if the target element is a child of root.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._rootContainsTarget = function (target) {\r\n\t\treturn containsDeep(this.root || document, target);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Adds the instance to the global IntersectionObserver registry if it isn't\r\n\t * already present.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._registerInstance = function () {\r\n\t\tif (registry.indexOf(this) < 0) {\r\n\t\t\tregistry.push(this);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Removes the instance from the global IntersectionObserver registry.\r\n\t * @private\r\n\t */\r\n\tIntersectionObserver.prototype._unregisterInstance = function () {\r\n\t\tconst index = registry.indexOf(this);\r\n\t\tif (index != -1) registry.splice(index, 1);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Returns the result of the performance.now() method or null in browsers\r\n\t * that don't support the API.\r\n\t * @return {number} The elapsed time since the page was requested.\r\n\t */\r\n\tfunction now() {\r\n\t\treturn window.performance && performance.now && performance.now();\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Throttles a function and delays its execution, so it's only called at most\r\n\t * once within a given time period.\r\n\t * @param {Function} fn The function to throttle.\r\n\t * @param {number} timeout The amount of time that must pass before the\r\n\t *     function can be called again.\r\n\t * @return {Function} The throttled function.\r\n\t */\r\n\tfunction throttle(fn, timeout) {\r\n\t\tlet timer = null;\r\n\t\treturn function () {\r\n\t\t\tif (!timer) {\r\n\t\t\t\ttimer = setTimeout(function () {\r\n\t\t\t\t\tfn();\r\n\t\t\t\t\ttimer = null;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Adds an event handler to a DOM node ensuring cross-browser compatibility.\r\n\t * @param {Node} node The DOM node to add the event handler to.\r\n\t * @param {string} event The event name.\r\n\t * @param {Function} fn The event handler to add.\r\n\t * @param {boolean} opt_useCapture Optionally adds the even to the capture\r\n\t *     phase. Note: this only works in modern browsers.\r\n\t */\r\n\tfunction addEvent(node, event, fn, opt_useCapture) {\r\n\t\tif (typeof node.addEventListener == 'function') {\r\n\t\t\tnode.addEventListener(event, fn, opt_useCapture || false);\r\n\t\t} else if (typeof node.attachEvent == 'function') {\r\n\t\t\tnode.attachEvent('on' + event, fn);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Removes a previously added event handler from a DOM node.\r\n\t * @param {Node} node The DOM node to remove the event handler from.\r\n\t * @param {string} event The event name.\r\n\t * @param {Function} fn The event handler to remove.\r\n\t * @param {boolean} opt_useCapture If the event handler was added with this\r\n\t *     flag set to true, it should be set to true here in order to remove it.\r\n\t */\r\n\tfunction removeEvent(node, event, fn, opt_useCapture) {\r\n\t\tif (typeof node.removeEventListener == 'function') {\r\n\t\t\tnode.removeEventListener(event, fn, opt_useCapture || false);\r\n\t\t} else if (typeof node.detatchEvent == 'function') {\r\n\t\t\tnode.detatchEvent('on' + event, fn);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Returns the intersection between two rect objects.\r\n\t * @param {Object} rect1 The first rect.\r\n\t * @param {Object} rect2 The second rect.\r\n\t * @return {?Object} The intersection rect or undefined if no intersection\r\n\t *     is found.\r\n\t */\r\n\tfunction computeRectIntersection(rect1, rect2) {\r\n\t\tconst top = Math.max(rect1.top, rect2.top);\r\n\t\tconst bottom = Math.min(rect1.bottom, rect2.bottom);\r\n\t\tconst left = Math.max(rect1.left, rect2.left);\r\n\t\tconst right = Math.min(rect1.right, rect2.right);\r\n\t\tconst width = right - left;\r\n\t\tconst height = bottom - top;\r\n\r\n\t\treturn (width >= 0 && height >= 0) && {\r\n\t\t\ttop: top,\r\n\t\t\tbottom: bottom,\r\n\t\t\tleft: left,\r\n\t\t\tright: right,\r\n\t\t\twidth: width,\r\n\t\t\theight: height\r\n\t\t};\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Shims the native getBoundingClientRect for compatibility with older IE.\r\n\t * @param {Element} el The element whose bounding rect to get.\r\n\t * @return {Object} The (possibly shimmed) rect of the element.\r\n\t */\r\n\tfunction getBoundingClientRect(el) {\r\n\t\tlet rect;\r\n\r\n\t\ttry {\r\n\t\t\trect = el.getBoundingClientRect();\r\n\t\t} catch (err) {\r\n\t\t\t// Ignore Windows 7 IE11 \"Unspecified error\"\r\n\t\t\t// https://github.com/w3c/IntersectionObserver/pull/205\r\n\t\t}\r\n\r\n\t\tif (!rect) return getEmptyRect();\r\n\r\n\t\t// Older IE\r\n\t\tif (!(rect.width && rect.height)) {\r\n\t\t\trect = {\r\n\t\t\t\ttop: rect.top,\r\n\t\t\t\tright: rect.right,\r\n\t\t\t\tbottom: rect.bottom,\r\n\t\t\t\tleft: rect.left,\r\n\t\t\t\twidth: rect.right - rect.left,\r\n\t\t\t\theight: rect.bottom - rect.top\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn rect;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Returns an empty rect object. An empty rect is returned when an element\r\n\t * is not in the DOM.\r\n\t * @return {Object} The empty rect.\r\n\t */\r\n\tfunction getEmptyRect() {\r\n\t\treturn {\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Checks to see if a parent element contains a child element (including inside\r\n\t * shadow DOM).\r\n\t * @param {Node} parent The parent element.\r\n\t * @param {Node} child The child element.\r\n\t * @return {boolean} True if the parent node contains the child node.\r\n\t */\r\n\tfunction containsDeep(parent, child) {\r\n\t\tlet node = child;\r\n\t\twhile (node) {\r\n\t\t\tif (node == parent) return true;\r\n\r\n\t\t\tnode = getParentNode(node);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Gets the parent node of an element or its host element if the parent node\r\n\t * is a shadow root.\r\n\t * @param {Node} node The node whose parent to get.\r\n\t * @return {Node|null} The parent node or null if no parent exists.\r\n\t */\r\n\tfunction getParentNode(node) {\r\n\t\tconst parent = node.parentNode;\r\n\r\n\t\tif (parent && parent.nodeType == 11 && parent.host) {\r\n\t\t\t// If the parent is a shadow root, return the host element.\r\n\t\t\treturn parent.host;\r\n\t\t}\r\n\r\n\t\tif (parent && parent.assignedSlot) {\r\n\t\t\t// If the parent is distributed in a <slot>, return the parent of a slot.\r\n\t\t\treturn parent.assignedSlot.parentNode;\r\n\t\t}\r\n\r\n\t\treturn parent;\r\n\t}\r\n\r\n\r\n\t// Exposes the constructors globally.\r\n\twindow.IntersectionObserver = IntersectionObserver;\r\n\twindow.IntersectionObserverEntry = IntersectionObserverEntry;\r\n\r\n}(window, document));","import React, { useRef, useState } from \"react\";\r\nimport \"./index.scss\";\r\nimport { useOnClickOutside } from \"modules/hooks\";\r\nimport { Link } from \"react-navi\";\r\nconst DetailsAccountMenu = () => {\r\n\treturn <div className=\"details-account-menu\" style={{position: \"absolute\", right: 0, top: \"50%\"}}>\r\n\t\t<Link href=\"/profile\"><i className=\"fa fa-gear\"/>Settings</Link>\r\n\t\t<Link href=\"/logout\"><i className=\"fa fa-power-off\"/>Log Out</Link>\r\n\t</div>\r\n}\r\n\r\nexport const Header = () => {\r\n\r\n\tconst [detailsOpen, setDetailsOpen] = useState(false);\r\n\tconst detailsRef = useRef();\r\n\tuseOnClickOutside(detailsRef, () => {\r\n\t\tdetailsOpen && setDetailsOpen(false);\r\n\t})\r\n\treturn <header className=\"app-layout-header\">\r\n\t\t<div className=\"menu-container\">\r\n\t\t\t<i className=\"fa fa-bars\"/>\r\n\t\t</div>\r\n\t\t<div className=\"header-right\">\r\n\t\t\t<div className=\"bell-container\">\r\n\t\t\t\t<i className=\"fa fa-bell\"/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"account-name-container\">\r\n\t\t\t\t<span>Ivo Luhse</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"account-photo-container\">\r\n\t\t\t\t<img src=\"https://picsum.photos/200/300\"/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"account-details-container\" ref={detailsRef} onClick={()=>setDetailsOpen(true)}>\r\n\t\t\t\t<i className=\"fa fa-angle-down\" />\r\n\t\t\t\t{detailsOpen && <DetailsAccountMenu />}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t</header>\r\n}\r\n\r\n// <ul className=\"nav-links\">\r\n// \t\t\t<li><Link href='/' prefetch={null}>Home</Link></li>\r\n// \t\t\t<li><Link href='/login' prefetch={null}>Login</Link></li>\r\n// \t\t</ul>","import React from \"react\";\r\nimport \"./index.scss\";\r\nimport { Link } from \"react-navi\";\r\n\r\nconst NavLink = (props) => <li><Link {...props}/></li>\r\n\r\nexport const SideBar = () => {\r\n\treturn <div className=\"app-layout-sidebar\">\r\n\t\t<div className=\"sidebar-top\">\r\n\t\t\t<div className=\"sidebar-logo\">\r\n\t\t\t\t<img src=\"img/logos/transparent-White-HQ.png\" alt=\"\"/>\r\n\t\t\t</div>\r\n\t\t\t<ul className=\"sidebar-links\">\r\n\t\t\t\t<NavLink href=\"/mybots\">My Bots</NavLink>\r\n\t\t\t\t<NavLink href=\"/mytradingaccounts\">My Trading Accounts</NavLink>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<NavLink href=\"/createnewaccount\">Create New Account</NavLink>\r\n\t\t\t\t<NavLink href=\"/forgotpassword\">Forgot Password</NavLink>\r\n\t\t\t\t<NavLink href=\"/signin\">Sign In</NavLink>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<NavLink href=\"/profile\">User Profile</NavLink>\r\n\t\t\t\t<NavLink href=\"/setupdarabot\">Setup Dara Bot</NavLink>\r\n\t\t\t\t<NavLink href=\"/trial\">TrialAccount</NavLink>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div className=\"sidebar-bottom\">\r\n\t\t\t<ul className=\"sidebar-bottom-links\">\r\n\t\t\t\t<NavLink href=\"/help\">Help and Support</NavLink>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n}","import BusyIndicator from 'react-busy-indicator'\r\nimport React from 'react'\r\nimport { useLoadingRoute } from 'react-navi'\r\n\r\nimport { Header } from \"./Header\";\r\nimport { SideBar } from \"./SideBar\";\r\nimport \"./index.scss\";\r\n\r\nexport const Layout = ({ children }) => {\r\n\tconst loadingRoute = useLoadingRoute();\r\n\r\n\treturn <div className=\"app-layout\">\r\n\t\t<BusyIndicator isBusy={!!loadingRoute} delayMs={200} />\r\n\t\t<SideBar />\r\n\t\t<div className=\"app-layout-main\">\r\n\t\t\t<Header />\r\n\t\t\t<main className=\"page-root\">\r\n\t\t\t\t{children}\r\n\t\t\t</main>\r\n\t\t</div>\r\n    </div>\r\n}\r\n\r\n// <div className=\"App\">\r\n// \t\t<header className=\"App-header\">\r\n// \t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n// \t\t\t<p>\r\n// \t\t\t\tEdit <code>src/App.js</code> and save to reload.\r\n// \t\t\t</p>\r\n// \t\t\t<a\r\n// \t\t\tclassName=\"App-link\"\r\n// \t\t\thref=\"https://reactjs.org\"\r\n// \t\t\ttarget=\"_blank\"\r\n// \t\t\trel=\"noopener noreferrer\"\r\n// \t\t\t>\r\n// \t\t\t\tLearn React\r\n// \t\t\t</a>\r\n// \t\t</header>\r\n//     </div></div>","import React, { Suspense } from 'react'\r\nimport { mount, route, lazy } from 'navi'\r\nimport { Router as RouterNavi, View } from 'react-navi'\r\nimport { Home } from 'pages/Home';\r\nimport { Layout } from '../Layout'\r\n\r\nconst routes =\r\n\tmount({\r\n\t\t'/': lazy(() => import('../../pages/Home')),\r\n\t\t'/login': lazy(() => import('../../pages/Login')),\r\n\t\t'/mybots': lazy(() => import('../../pages/trading/MyBots')),\r\n\t\t'/mytradingaccounts': lazy(() => import('../../pages/trading/MyTradingAccounts')),\r\n\r\n\t\t//auth\r\n\t\t'/createnewaccount': lazy(() => import('../../pages/auth/CreateNewAccount')),\r\n\t\t'/forgotpassword': lazy(() => import('../../pages/auth/ForgotPassword')),\r\n\t\t'/signin': lazy(() => import('../../pages/auth/SignIn')),\r\n\t\t'/help': lazy(() => import('../../pages/extra/HelpAndSupport')),\r\n\r\n\t\t//account\r\n\t\t'/profile': lazy(() => import('../../pages/account/UserProfile')),\r\n\t\t'/setupdarabot': lazy(() => import('../../pages/account/SetupDaraBot')),\r\n\t\t'/trial': lazy(() => import('../../pages/account/TrialAccount')),\r\n\t})\r\n\r\nexport const Router = () => {\r\n\treturn <RouterNavi routes={routes}>\r\n\t\t<Layout>\r\n\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t<View />\r\n\t\t\t</Suspense>\r\n\t\t</Layout>\r\n  </RouterNavi>\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\r\nimport React from \"react\";\r\nimport './index.css';\r\nimport 'styles/index.scss';\r\n// import logo from './logo.svg';\r\n// import React, { Suspense } from 'react'\r\n// import { Router, View } from 'react-navi'\r\n//import api from './api'\r\n// import { Home } from 'pages';\r\n// import { Layout } from './Layout'\r\nimport { Router } from \"./Router\";\r\n\r\nexport const App = () => {\r\n\treturn <Router />\r\n\r\n// \treturn <Router routes={routes}>\r\n// \t\t<Layout>\r\n// \t\t\t<Suspense fallback={null}>\r\n// \t\t\t\t<View />\r\n// \t\t\t</Suspense>\r\n// \t\t</Layout>\r\n//   </Router>\r\n}\r\n\r\n// export const App = () => {\r\n// \treturn <div className=\"App\">\r\n// \t\t<header className=\"App-header\">\r\n// \t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n// \t\t\t<p>\r\n// \t\t\t\tEdit <code>src/App.js</code> and save to reload.\r\n// \t\t\t</p>\r\n// \t\t\t<a\r\n// \t\t\tclassName=\"App-link\"\r\n// \t\t\thref=\"https://reactjs.org\"\r\n// \t\t\ttarget=\"_blank\"\r\n// \t\t\trel=\"noopener noreferrer\"\r\n// \t\t\t>\r\n// \t\t\t\tLearn React\r\n// \t\t\t</a>\r\n// \t\t</header>\r\n//     </div>\r\n// }\r\n"],"sourceRoot":""}